openapi: 3.0.1
info:
  title: Service Accounts API Documentation
  description: This is the API documentation for Service Accounts
  termsOfService: https://www.redhat.com/en/about/terms-use
  version: "1.0"
servers:
- url: /
  description: Development server
security:
- bearerAuth: []
paths:
  /apis/service_accounts/v1:
    get:
      tags:
      - service_accounts
      summary: List all service accounts
      description: Returns a list of service accounts created by a user. User information
        is obtained from the bearer token. The list is paginated with starting index
        as 'first' and page size as 'max.' If 'max' is greater than the maximum allowable
        page size a NotAcceptableException is thrown
      operationId: getServiceAccounts
      parameters:
      - name: first
        in: query
        schema:
          minimum: 0
          type: integer
          format: int32
          default: 0
      - name: max
        in: query
        schema:
          maximum: 100
          minimum: 1
          type: integer
          format: int32
          default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceAccountData'
          links:
            getNextPage:
              operationId: getServiceAccounts
              description: link to the next page of service accounts
        "406":
          $ref: '#/components/responses/406'
        "401":
          $ref: '#/components/responses/401'
    post:
      tags:
      - service_accounts
      summary: Create service account
      description: Create a service account. Created service account is associated
        with the user defined in the bearer token.
      operationId: createServiceAccount
      requestBody:
        description: '''name'' and ''description'' of the service account'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceAccountCreateRequestData'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccountData'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  cause:
                    type: object
                    properties:
                      stackTrace:
                        type: array
                        items:
                          type: object
                          properties:
                            methodName:
                              type: string
                            fileName:
                              type: string
                            lineNumber:
                              type: integer
                              format: int32
                            className:
                              type: string
                            nativeMethod:
                              type: boolean
                      message:
                        type: string
                      localizedMessage:
                        type: string
                      suppressed:
                        type: array
                        items:
                          type: object
                          properties:
                            stackTrace:
                              type: array
                              items:
                                type: object
                                properties:
                                  methodName:
                                    type: string
                                  fileName:
                                    type: string
                                  lineNumber:
                                    type: integer
                                    format: int32
                                  className:
                                    type: string
                                  nativeMethod:
                                    type: boolean
                            message:
                              type: string
                            localizedMessage:
                              type: string
                  stackTrace:
                    type: array
                    items:
                      type: object
                      properties:
                        methodName:
                          type: string
                        fileName:
                          type: string
                        lineNumber:
                          type: integer
                          format: int32
                        className:
                          type: string
                        nativeMethod:
                          type: boolean
                  response:
                    type: object
                    properties:
                      metadata:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                      entity:
                        type: object
                      status:
                        type: integer
                        format: int32
                      entityTag:
                        type: object
                        properties:
                          value:
                            type: string
                          weak:
                            type: boolean
                      cookies:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            version:
                              type: integer
                              format: int32
                            path:
                              type: string
                            domain:
                              type: string
                            comment:
                              type: string
                            maxAge:
                              type: integer
                              format: int32
                            expiry:
                              type: string
                              format: date-time
                            secure:
                              type: boolean
                            httpOnly:
                              type: boolean
                      allowedMethods:
                        uniqueItems: true
                        type: array
                        items:
                          type: string
                      mediaType:
                        type: object
                        properties:
                          type:
                            type: string
                          subtype:
                            type: string
                          parameters:
                            type: object
                            additionalProperties:
                              type: string
                          wildcardType:
                            type: boolean
                          wildcardSubtype:
                            type: boolean
                      stringHeaders:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: string
                      statusInfo:
                        type: object
                        properties:
                          reasonPhrase:
                            type: string
                          statusCode:
                            type: integer
                            format: int32
                          family:
                            type: string
                            enum:
                            - INFORMATIONAL
                            - SUCCESSFUL
                            - REDIRECTION
                            - CLIENT_ERROR
                            - SERVER_ERROR
                            - OTHER
                      links:
                        uniqueItems: true
                        type: array
                        items:
                          type: object
                          properties:
                            uriBuilder:
                              type: object
                            params:
                              type: object
                              additionalProperties:
                                type: string
                            title:
                              type: string
                            uri:
                              type: string
                              format: uri
                            rel:
                              type: string
                            rels:
                              type: array
                              items:
                                type: string
                            type:
                              type: string
                      length:
                        type: integer
                        format: int32
                      language:
                        type: object
                        properties:
                          language:
                            type: string
                          script:
                            type: string
                          country:
                            type: string
                          variant:
                            type: string
                          extensionKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleAttributes:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          iso3Language:
                            type: string
                          iso3Country:
                            type: string
                          displayLanguage:
                            type: string
                          displayScript:
                            type: string
                          displayCountry:
                            type: string
                          displayVariant:
                            type: string
                          displayName:
                            type: string
                      location:
                        type: string
                        format: uri
                      lastModified:
                        type: string
                        format: date-time
                      date:
                        type: string
                        format: date-time
                      headers:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                  message:
                    type: string
                  localizedMessage:
                    type: string
                  suppressed:
                    type: array
                    items:
                      type: object
                      properties:
                        stackTrace:
                          type: array
                          items:
                            type: object
                            properties:
                              methodName:
                                type: string
                              fileName:
                                type: string
                              lineNumber:
                                type: integer
                                format: int32
                              className:
                                type: string
                              nativeMethod:
                                type: boolean
                        message:
                          type: string
                        localizedMessage:
                          type: string
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  cause:
                    type: object
                    properties:
                      stackTrace:
                        type: array
                        items:
                          type: object
                          properties:
                            methodName:
                              type: string
                            fileName:
                              type: string
                            lineNumber:
                              type: integer
                              format: int32
                            className:
                              type: string
                            nativeMethod:
                              type: boolean
                      message:
                        type: string
                      localizedMessage:
                        type: string
                      suppressed:
                        type: array
                        items:
                          type: object
                          properties:
                            stackTrace:
                              type: array
                              items:
                                type: object
                                properties:
                                  methodName:
                                    type: string
                                  fileName:
                                    type: string
                                  lineNumber:
                                    type: integer
                                    format: int32
                                  className:
                                    type: string
                                  nativeMethod:
                                    type: boolean
                            message:
                              type: string
                            localizedMessage:
                              type: string
                  stackTrace:
                    type: array
                    items:
                      type: object
                      properties:
                        methodName:
                          type: string
                        fileName:
                          type: string
                        lineNumber:
                          type: integer
                          format: int32
                        className:
                          type: string
                        nativeMethod:
                          type: boolean
                  response:
                    type: object
                    properties:
                      metadata:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                      entity:
                        type: object
                      status:
                        type: integer
                        format: int32
                      entityTag:
                        type: object
                        properties:
                          value:
                            type: string
                          weak:
                            type: boolean
                      cookies:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            version:
                              type: integer
                              format: int32
                            path:
                              type: string
                            domain:
                              type: string
                            comment:
                              type: string
                            maxAge:
                              type: integer
                              format: int32
                            expiry:
                              type: string
                              format: date-time
                            secure:
                              type: boolean
                            httpOnly:
                              type: boolean
                      allowedMethods:
                        uniqueItems: true
                        type: array
                        items:
                          type: string
                      mediaType:
                        type: object
                        properties:
                          type:
                            type: string
                          subtype:
                            type: string
                          parameters:
                            type: object
                            additionalProperties:
                              type: string
                          wildcardType:
                            type: boolean
                          wildcardSubtype:
                            type: boolean
                      stringHeaders:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: string
                      statusInfo:
                        type: object
                        properties:
                          reasonPhrase:
                            type: string
                          statusCode:
                            type: integer
                            format: int32
                          family:
                            type: string
                            enum:
                            - INFORMATIONAL
                            - SUCCESSFUL
                            - REDIRECTION
                            - CLIENT_ERROR
                            - SERVER_ERROR
                            - OTHER
                      links:
                        uniqueItems: true
                        type: array
                        items:
                          type: object
                          properties:
                            uriBuilder:
                              type: object
                            params:
                              type: object
                              additionalProperties:
                                type: string
                            title:
                              type: string
                            uri:
                              type: string
                              format: uri
                            rel:
                              type: string
                            rels:
                              type: array
                              items:
                                type: string
                            type:
                              type: string
                      length:
                        type: integer
                        format: int32
                      language:
                        type: object
                        properties:
                          language:
                            type: string
                          script:
                            type: string
                          country:
                            type: string
                          variant:
                            type: string
                          extensionKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleAttributes:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          iso3Language:
                            type: string
                          iso3Country:
                            type: string
                          displayLanguage:
                            type: string
                          displayScript:
                            type: string
                          displayCountry:
                            type: string
                          displayVariant:
                            type: string
                          displayName:
                            type: string
                      location:
                        type: string
                        format: uri
                      lastModified:
                        type: string
                        format: date-time
                      date:
                        type: string
                        format: date-time
                      headers:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                  challenges:
                    type: array
                    items:
                      type: object
                  message:
                    type: string
                  localizedMessage:
                    type: string
                  suppressed:
                    type: array
                    items:
                      type: object
                      properties:
                        stackTrace:
                          type: array
                          items:
                            type: object
                            properties:
                              methodName:
                                type: string
                              fileName:
                                type: string
                              lineNumber:
                                type: integer
                                format: int32
                              className:
                                type: string
                              nativeMethod:
                                type: boolean
                        message:
                          type: string
                        localizedMessage:
                          type: string
  /apis/service_accounts/v1/{id}:
    get:
      tags:
      - serviceaccounts
      summary: Get service account by id
      description: Returns service account by id. Throws not found exception if the
        service account is not found or the user does not have access to this service
        account
      operationId: getServiceAccount
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccountData'
        "404":
          $ref: '#/components/responses/404'
        "401":
          $ref: '#/components/responses/401'
    delete:
      tags:
      - service_accounts
      summary: Delete service account by id
      description: Delete service account by id. Throws not found exception if the
        service account is not found or the user does not have access to this service
        account
      operationId: deleteServiceAccount
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json: {}
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  cause:
                    type: object
                    properties:
                      stackTrace:
                        type: array
                        items:
                          type: object
                          properties:
                            methodName:
                              type: string
                            fileName:
                              type: string
                            lineNumber:
                              type: integer
                              format: int32
                            className:
                              type: string
                            nativeMethod:
                              type: boolean
                      message:
                        type: string
                      localizedMessage:
                        type: string
                      suppressed:
                        type: array
                        items:
                          type: object
                          properties:
                            stackTrace:
                              type: array
                              items:
                                type: object
                                properties:
                                  methodName:
                                    type: string
                                  fileName:
                                    type: string
                                  lineNumber:
                                    type: integer
                                    format: int32
                                  className:
                                    type: string
                                  nativeMethod:
                                    type: boolean
                            message:
                              type: string
                            localizedMessage:
                              type: string
                  stackTrace:
                    type: array
                    items:
                      type: object
                      properties:
                        methodName:
                          type: string
                        fileName:
                          type: string
                        lineNumber:
                          type: integer
                          format: int32
                        className:
                          type: string
                        nativeMethod:
                          type: boolean
                  response:
                    type: object
                    properties:
                      metadata:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                      entity:
                        type: object
                      status:
                        type: integer
                        format: int32
                      entityTag:
                        type: object
                        properties:
                          value:
                            type: string
                          weak:
                            type: boolean
                      cookies:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            version:
                              type: integer
                              format: int32
                            path:
                              type: string
                            domain:
                              type: string
                            comment:
                              type: string
                            maxAge:
                              type: integer
                              format: int32
                            expiry:
                              type: string
                              format: date-time
                            secure:
                              type: boolean
                            httpOnly:
                              type: boolean
                      allowedMethods:
                        uniqueItems: true
                        type: array
                        items:
                          type: string
                      mediaType:
                        type: object
                        properties:
                          type:
                            type: string
                          subtype:
                            type: string
                          parameters:
                            type: object
                            additionalProperties:
                              type: string
                          wildcardType:
                            type: boolean
                          wildcardSubtype:
                            type: boolean
                      stringHeaders:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: string
                      statusInfo:
                        type: object
                        properties:
                          reasonPhrase:
                            type: string
                          statusCode:
                            type: integer
                            format: int32
                          family:
                            type: string
                            enum:
                            - INFORMATIONAL
                            - SUCCESSFUL
                            - REDIRECTION
                            - CLIENT_ERROR
                            - SERVER_ERROR
                            - OTHER
                      links:
                        uniqueItems: true
                        type: array
                        items:
                          type: object
                          properties:
                            uriBuilder:
                              type: object
                            params:
                              type: object
                              additionalProperties:
                                type: string
                            title:
                              type: string
                            uri:
                              type: string
                              format: uri
                            rel:
                              type: string
                            rels:
                              type: array
                              items:
                                type: string
                            type:
                              type: string
                      length:
                        type: integer
                        format: int32
                      language:
                        type: object
                        properties:
                          language:
                            type: string
                          script:
                            type: string
                          country:
                            type: string
                          variant:
                            type: string
                          extensionKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleAttributes:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          iso3Language:
                            type: string
                          iso3Country:
                            type: string
                          displayLanguage:
                            type: string
                          displayScript:
                            type: string
                          displayCountry:
                            type: string
                          displayVariant:
                            type: string
                          displayName:
                            type: string
                      location:
                        type: string
                        format: uri
                      lastModified:
                        type: string
                        format: date-time
                      date:
                        type: string
                        format: date-time
                      headers:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                  message:
                    type: string
                  localizedMessage:
                    type: string
                  suppressed:
                    type: array
                    items:
                      type: object
                      properties:
                        stackTrace:
                          type: array
                          items:
                            type: object
                            properties:
                              methodName:
                                type: string
                              fileName:
                                type: string
                              lineNumber:
                                type: integer
                                format: int32
                              className:
                                type: string
                              nativeMethod:
                                type: boolean
                        message:
                          type: string
                        localizedMessage:
                          type: string
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  cause:
                    type: object
                    properties:
                      stackTrace:
                        type: array
                        items:
                          type: object
                          properties:
                            methodName:
                              type: string
                            fileName:
                              type: string
                            lineNumber:
                              type: integer
                              format: int32
                            className:
                              type: string
                            nativeMethod:
                              type: boolean
                      message:
                        type: string
                      localizedMessage:
                        type: string
                      suppressed:
                        type: array
                        items:
                          type: object
                          properties:
                            stackTrace:
                              type: array
                              items:
                                type: object
                                properties:
                                  methodName:
                                    type: string
                                  fileName:
                                    type: string
                                  lineNumber:
                                    type: integer
                                    format: int32
                                  className:
                                    type: string
                                  nativeMethod:
                                    type: boolean
                            message:
                              type: string
                            localizedMessage:
                              type: string
                  stackTrace:
                    type: array
                    items:
                      type: object
                      properties:
                        methodName:
                          type: string
                        fileName:
                          type: string
                        lineNumber:
                          type: integer
                          format: int32
                        className:
                          type: string
                        nativeMethod:
                          type: boolean
                  response:
                    type: object
                    properties:
                      metadata:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                      entity:
                        type: object
                      status:
                        type: integer
                        format: int32
                      entityTag:
                        type: object
                        properties:
                          value:
                            type: string
                          weak:
                            type: boolean
                      cookies:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            version:
                              type: integer
                              format: int32
                            path:
                              type: string
                            domain:
                              type: string
                            comment:
                              type: string
                            maxAge:
                              type: integer
                              format: int32
                            expiry:
                              type: string
                              format: date-time
                            secure:
                              type: boolean
                            httpOnly:
                              type: boolean
                      allowedMethods:
                        uniqueItems: true
                        type: array
                        items:
                          type: string
                      mediaType:
                        type: object
                        properties:
                          type:
                            type: string
                          subtype:
                            type: string
                          parameters:
                            type: object
                            additionalProperties:
                              type: string
                          wildcardType:
                            type: boolean
                          wildcardSubtype:
                            type: boolean
                      stringHeaders:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: string
                      statusInfo:
                        type: object
                        properties:
                          reasonPhrase:
                            type: string
                          statusCode:
                            type: integer
                            format: int32
                          family:
                            type: string
                            enum:
                            - INFORMATIONAL
                            - SUCCESSFUL
                            - REDIRECTION
                            - CLIENT_ERROR
                            - SERVER_ERROR
                            - OTHER
                      links:
                        uniqueItems: true
                        type: array
                        items:
                          type: object
                          properties:
                            uriBuilder:
                              type: object
                            params:
                              type: object
                              additionalProperties:
                                type: string
                            title:
                              type: string
                            uri:
                              type: string
                              format: uri
                            rel:
                              type: string
                            rels:
                              type: array
                              items:
                                type: string
                            type:
                              type: string
                      length:
                        type: integer
                        format: int32
                      language:
                        type: object
                        properties:
                          language:
                            type: string
                          script:
                            type: string
                          country:
                            type: string
                          variant:
                            type: string
                          extensionKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleAttributes:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          unicodeLocaleKeys:
                            uniqueItems: true
                            type: array
                            items:
                              type: string
                          iso3Language:
                            type: string
                          iso3Country:
                            type: string
                          displayLanguage:
                            type: string
                          displayScript:
                            type: string
                          displayCountry:
                            type: string
                          displayVariant:
                            type: string
                          displayName:
                            type: string
                      location:
                        type: string
                        format: uri
                      lastModified:
                        type: string
                        format: date-time
                      date:
                        type: string
                        format: date-time
                      headers:
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: object
                  challenges:
                    type: array
                    items:
                      type: object
                  message:
                    type: string
                  localizedMessage:
                    type: string
                  suppressed:
                    type: array
                    items:
                      type: object
                      properties:
                        stackTrace:
                          type: array
                          items:
                            type: object
                            properties:
                              methodName:
                                type: string
                              fileName:
                                type: string
                              lineNumber:
                                type: integer
                                format: int32
                              className:
                                type: string
                              nativeMethod:
                                type: boolean
                        message:
                          type: string
                        localizedMessage:
                          type: string
    patch:
      tags:
      - service_accounts
      summary: Update service account
      description: Update a service account by id.
      operationId: updateServiceAccount
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        description: '''name'' and ''description'' of the service account'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceAccountRequestData'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccountData'
        "400":
          $ref: '#/components/responses/400'
        "404":
          $ref: '#/components/responses/404'
        "401":
          $ref: '#/components/responses/401'
  /apis/service_accounts/v1/{id}/resetSecret:
    post:
      tags:
      - serviceaccounts
      summary: Reset service account secret by id
      description: Reset service account secret by id . Throws not found exception
        if the service account is not found or the user does not have access to this
        service account
      operationId: resetServiceAccountSecret
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccountData'
        "404":
          $ref: '#/components/responses/404'
        "401":
          $ref: '#/components/responses/401'
components:
  schemas:
    Error:
      required:
      - error
      type: object
      properties:
        error:
          type: string
          description: The cause of the Error.
    ServiceAccountData:
      type: object
      properties:
        id:
          type: string
        clientId:
          type: string
        secret:
          type: string
          description: Provided during creation and resetting of service account credentials.
        name:
          type: string
        description:
          type: string
        ownerId:
          type: string
        createdAt:
          type: integer
          format: int64
    ServiceAccountCreateRequestData:
      required:
      - description
      - name
      type: object
      properties:
        name:
          type: string
        description:
          type: string
    ServiceAccountRequestData:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
  responses:
    UnauthorizedError:
      description: Access token is missing or invalid
    "400":
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    "401":
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    "403":
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    "404":
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    "406":
      description: Not Acceptable
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    "500":
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT